#!/usr/bin/env php
<?php
/*
 * EasyTest
 * Copyright (c) 2014 Karl Nack
 *
 * This file is subject to the license terms in the LICENSE file found in the
 * top-level directory of this distribution. No part of this project,
 * including this file, may be copied, modified, propagated, or distributed
 * except according to the terms contained in the LICENSE file.
 */

foreach (['/../../../autoload.php', '/../vendor/autoload.php'] as $file) {
    $file = __DIR__ . $file;
    if (file_exists($file)) {
        require $file;
        unset($file);
        break;
    }
}
if (isset($file)) {
    fwrite(
        STDERR,
        "EasyTest is unable to find Composer's autoload.php file.\n"
        . "Please ensure your project dependencies are properly configured\n"
        . "using Composer (https://getcomposer.org/)\n"
    );
    exit(1);
}

require __DIR__ . '/../easytest.php';
exit((new easytest\Factory())->build($argv)->run());
