TODO
====

This file lists all tasks required for the next release. Items that might be
desirable for future releases may be listed at the bottom of the file.


Release
-------
-   Review test suite

-   Niggles to test/check:

    -   What happens if we try to tokenize an empty file?

    -   Do we properly handle directories whose name matches against file name
        patterns?

    -   Do we properly handle traversing towards a target that may have a
        potentially ambiguous directory name in the path? E.g., the target is
        in "tests/test_foobar/test_target.php" and the test suite also has the
        directory "tests/test_foo" (which may or may not also include a file
        "test_target.php")

    -   Do we not discover/traverse symbolic links?

    -   Do we handle traversing multiple times to a directory, file, etc. that
        had a setup error?

    -   (Directory) setup errors when there are targets

    -   Running targets that are a directory or a file that is parameterized
        with multiple argument lists, and/or in a directory hierarchy where
        one or more directories in the hierarchy are parameterized with
        multiple argument lists

    -   Error-checking for argument lists:
        -   setup fixtures must either return an iterable or an instance of
            ArgumentLists
        -   each arglist in ArgumentLists must be an iterable

    -   Handling targets that don't match a test pattern

    -   What if all targets are invalid?

-   How to format (and/or diff) identical objects that are different
    instances?

-   If getcwd() is 'foo' and it has two test directories 'test1' and 'test2',
    and we run 'easytest', then 'test1' and 'test2' are discovered and tested.
    If we run 'easytest test1 test2', then 'test2' is flagged as error for not
    being in 'test1', since 'test1' is determined to be the test root. So, we
    need to resolve this inconsistency

-   Also, if given a path that is a directory, EasyTest searches it for tests
    regardless of whether or not it begins with 'test'. However, if given a
    path that is a file, EasyTest will only search it if its name begins with
    'test'.  Is this an issue?

-   Implement test dependencies

-   Implement Context::assert()?

-   Implement "loose" diff/variable formatting for "loose" (==) comparisons?

-   Consider whether we want to show fully-qualified names in test report, or
    omit the namespace. With the exception of output (and passes), all events
    are traced to a file and line number.

-   Maybe reconsider Context::subtest() return argument. Currently it makes it
    hard to do simple conditional checks on whether or not the subtest passed
    or failed. Instead, we may just want to return true or false and then add
    an optional reference parameter in which to return the value of the
    subtest $callable. If we do this, we will need to explicitly implement at
    least assert_throws() on the Context class in order to handle returning
    the thrown exception.


Future
------
-   Add support for config files(?)

-   Implement additional CLI options(?)
    -   specify a config file
    -   reverse report output
    -   enable/disable autoloading, and specify an autoloader file location?

-   diff: Limit number of lines that are reported before and after the
    differing portion of text

-   Ensure we're UTF-8 conformant
    https://www.php.net/manual/en/migration71.windows-support.php#migration71.windows-support.long-and-utf8-path

-   Allow test functions and function fixtures to be moved into a class and
    "just work"

-   Implement namespace fixtures and allowing tests to be grouped together
    within a file by namespace?

-   Implement individual Context assertions instead of dynamically searching
    for them? Or cache looked-up names for performance?

-   Do we want to reverse the order of the test and arglists loops?
    -   Right now it's: foreach test, foreach arglist, run the test
    -   Maybe we prefer: foreach arglist, foreach test, run test ?


Wishlist / Someday
------------------
-   Improve diff algorithm
    -   "a high-performance library in multiple languages that manipulates
        plain text"
        https://github.com/google/diff-match-patch

    -   "Utility to do an N-way diff and N-way merge, for N > 2"
        https://github.com/Quuxplusone/difdef

-   Support calling assert() with arbitrary exceptions in PHP >= 7? It's not
    entirely clear what this would even entail: perhaps allow for outputting
    custom types of errors/failures?
